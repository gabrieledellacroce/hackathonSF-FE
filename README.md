ModelMarkt Project Structure (Hackathon Edition)


## ğŸš€ Project Description

A lightweight marketplace for fast classification APIs. Users can upload pretrained vision models (e.g., fruit-freshness classifier, dog detector, etc.), test them in an interactive playground, and generate API keys to call them programmatically.

The project is intentionally built for a hackathon using two fully decoupled repositories:

- Frontend repo â€” UI, authentication, playground
- Backend repo â€” API services, file-based storage

They are deployed, versioned, and developed independently.


ModelMarkt Project Structure (Hackathon Edition)

This document describes the architecture, folder structure, API contract, and conventions for ModelMarkt.
It is optimized for a fast hackathon build with separate frontend and backend repositories that communicate only via HTTP.


## ğŸ“ Project Rules & Constraints

- The primary contributor is frontend-only. Backend implementation and DevOps are out of scope for this repo.
- Treat the backend as an external service available at `process.env.BACKEND_URL`. Do not add server-side logic to the frontend.
- If the backend is unavailable, use mocks (e.g., MSW, local JSON fixtures, or a minimal stub server). Mocks must follow the â€œBackend API Contractâ€ below.
- The frontend stores only StackAuth profile data (name, email, profile picture). API keys are generated by the backend and must not be persisted in the frontend beyond request/response flows; never commit secrets.
- All network calls must go through `BACKEND_URL` (no direct filesystem or process access).
- Any change to the API surface must be reflected in this README before implementation.
- The backend lives in a separate repository and is not owned by the frontend contributor.


## ğŸ—ï¸ High-Level Architecture

- Frontend (Next.js or SvelteKit â€” separate repository)
  - Communicates only with the backend via `process.env.BACKEND_URL`.

- Backend (Node + Express or FastAPI â€” separate repository)
  - Stateless. No real database â€” just JSON files and model files inside the `/models` folder.

- Storage (local filesystem inside the backend repo)
  - `/models/models.json` â†’ List of models and metadata
  - `/models/<id>.keras` â†’ The saved model
  - `/models/<id>.json` â†’ Optional model metadata
  - `/apikeys.json` â†’ Stored API keys mapped to StackAuth user IDs


## ğŸ“ Recommended Repo Structure

Repo 1: Frontend

```
frontend-repo/
  src/
  package.json
  .env  (BACKEND_URL=...)
  README.md
```

Repo 2: Backend

```
backend-repo/
  src/
    routes/
      models.ts
      upload.ts
      apikey.ts
    utils/
      fs.ts
      validation.ts
  models/
    models.json
    <modelId>.keras
    <modelId>.json
  apikeys.json
  package.json
  README.md
```


## ğŸ”Œ Backend API Contract

### GET /models
Returns the list of available models.

```
{
  models: [
    {
      id: "123",
      name: "Object Detector",
      description: "Detects items fromâ€¦",
      createdAt: "2025-01-01"
    }
  ]
}
```

### POST /model/:id
Runs inference for a model.

Body:
- file (multipart)
- optional JSON params

### POST /upload
Uploads a new trained model.

Flow:
1. Save model and metadata in `/models/`
2. Update `models.json`

### POST /apikey/create
Request body:

```
{
  "stackauthUserId": "string"
}
```

Response:

```
{
  "apiKey": "generated-key-abc123"
}
```

Stored in `apikeys.json`.

### GET /apikey/get?userId=XXX
Returns an existing API key.

```
{
  "apiKey": "abc123"
}
```


## ğŸ‘¤ User Profile Requirements (Frontend Only)

Stored only in the frontend via StackAuth:
- Name
- Email
- Profile picture
- API key generation button

Backend stores only API keys.


## ğŸ›ï¸ Model Playground UI (Frontend)

For each model page:
- File upload
- Optional parameters
- Run Model â†’ POST to backend
- Output viewer


## ğŸš« Billing

Skipped for hackathon.


## ğŸ”§ Environment Variables

Frontend config:

```
BACKEND_URL="http://localhost:3001"
```

Backend has no env vars (hackathon mode).


## ğŸ§ª Recommended Backend Stack

- Node.js + Express
- multer
- fs/promises
- crypto
- cors


